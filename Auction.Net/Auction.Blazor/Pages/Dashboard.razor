@page "/dashboard"
@inject NavigationManager navigation
@inject IJSRuntime JSRuntime

<PageTitle>Dashboard</PageTitle>
 
<AuthorizeView Roles="administrator">
    <AdminDashboard ></AdminDashboard>
 </AuthorizeView>
 
 <AuthorizeView Roles="vip">
    <VipDashboard></VipDashboard>
 </AuthorizeView>
 
 <AuthorizeView Roles="standard">
         <AuctionCurrent></AuctionCurrent>
 </AuthorizeView> 

<AuthorizeView>
     <NotAuthorized>
         <AuctionCurrent></AuctionCurrent>
     </NotAuthorized>
</AuthorizeView>
@code
{
    protected override async Task OnInitializedAsync()
    {
        var storedLastVisitedPage = await JSRuntime.InvokeAsync<string>("localStorage.getItem", "lastVisitedPage");

        if (storedLastVisitedPage != null)
        {
            await RemoveLastVisitedPageFromLocalStorage();
            navigation.Refresh();
        }
    }
    private async Task RemoveLastVisitedPageFromLocalStorage() => await JSRuntime.InvokeVoidAsync("localStorage.removeItem", "lastVisitedPage");

}